var v=Object.defineProperty;var x=(i,e,r)=>e in i?v(i,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[e]=r;var s=(i,e,r)=>(x(i,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();function p(i,e){return Math.floor(Math.random()*(e-i+1)+i)}class w{constructor(){s(this,"name");s(this,"red");s(this,"green");s(this,"blue");s(this,"formatName");s(this,"sectionPhrases");s(this,"_colorOrder");this.name="rgb",this.formatName="rgb_input",this.sectionPhrases={name:this.name.toUpperCase(),inputs:["Red","Green","Blue"],inputType:"number",placeholder:["A value from 0 to 255","A value from 0 to 255","A value from 0 to 255"]},this.red=0,this.green=0,this.blue=0,this._colorOrder=[this.red,this.green,this.blue]}createColor(e=[]){for(let n=0;n<e.length;n++){const a=e[n];typeof a=="string"&&a.length>0?this._colorOrder[n]=Number(a):this._colorOrder[n]=p(0,255)}const[r,o,t]=this._colorOrder;return console.log(`rgb(${r}, ${o}, ${t})`),`rgb(${r}, ${o}, ${t})`}}class E{constructor(){s(this,"name");s(this,"red");s(this,"green");s(this,"blue");s(this,"formatName");s(this,"sectionPhrases");s(this,"_hexCharTable");s(this,"_hexColor");this.name="hex",this.formatName="hex_input",this.sectionPhrases={name:this.name.toUpperCase(),inputs:["Red","Green","Blue"],inputType:"text",placeholder:["A value from 0 to ff","A value from 0 to ff","A value from 0 to ff"]},this.red="",this.green="",this.blue="",this._hexCharTable="0123456789abcdef",this._hexColor=[this.red,this.green,this.blue]}selectHexNumber(){return this._hexCharTable[p(0,15)]}createColor(e){var o;const r=((o=e[0])==null?void 0:o.length)<2;for(let t=0;t<this._hexColor.length;t++){if(typeof e[t]=="string"&&e[t].length>0){this._hexColor[t]=e[t];continue}r?this._hexColor[t]=this.selectHexNumber():this._hexColor[t]=this.selectHexNumber()+this.selectHexNumber()}return console.log("#"+this._hexColor.join("")),"#"+this._hexColor.join("")}}class C{constructor(){s(this,"name");s(this,"hue");s(this,"saturation");s(this,"lightness");s(this,"formatName");s(this,"sectionPhrases");s(this,"_colorOrder");this.name="hsl",this.formatName="hsl_input",this.sectionPhrases={name:this.name.toUpperCase(),inputs:["Hue","Saturation","Lightness"],inputType:"number",placeholder:["A value from 0 to 360","A value from 0 to 100","A value from 0 to 100"]},this.hue=0,this.saturation="",this.lightness="",this._colorOrder=[this.hue,this.saturation,this.lightness]}createColor(e){for(let n=0;n<e.length;n++){const a=e[n];typeof a=="string"&&a.length>0?this._colorOrder[n]=Number(a):n===0?this._colorOrder[n]=p(0,360):this._colorOrder[n]=p(0,100)}const[r,o,t]=this._colorOrder;return console.log(`hsl(${r}, ${o}%, ${t}%)`),`hsl(${r}, ${o}%, ${t}%)`}}function L(i,e){const{formatName:r,sectionPhrases:o}=e;return new Promise((t,n)=>{if(i.id===r){t(i);return}i.id=r;const a=i.querySelector("fieldset");if(!a)throw new Error("fieldset not found");const l=new DocumentFragment,{name:h,inputs:m,inputType:g,placeholder:y}=o,_=document.createElement("h3");_.innerText=h,l.append(_);for(let u=0;u<m.length;u++){m[u];const f=document.createElement("label"),b=document.createElement("p");b.innerText=m[u];const c=document.createElement("input");c.id=m[u].toLowerCase(),c.classList.add("form__input"),c.placeholder=y[u],c.type=g;const d=document.createElement("p");d.style.display="none",g==="text"?c.pattern=/^([0-9a-fA-F]{1}|[0-9a-fA-F]{2})$/.source:g==="number"?(c.min="0",h==="RGB"&&(c.max="255"),h==="HSL"&&(u===0?c.max="360":c.max="100")):n("Unknown color format"),f.append(b),f.append(c),h==="HSL"&&(c.style.width="calc(100% - 1.8rem)",u===0&&(d.style.display="inline-block",d.innerText="deg"),u>0&&(d.style.display="inline-block",d.innerText="%")),f.append(d),l.append(f)}a.innerHTML="",a.style.opacity="0",a.style.transform="translateX(100%)",a.append(l),setTimeout(()=>{a.style.opacity="1",a.style.transform="translateX(0%)",t(i)},1e3)})}const T='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" class="clipboard-svg"><path d="M19 3h-2.25a1 1 0 0 0-1-1h-7.5a1 1 0 0 0-1 1H5c-1.103 0-2 .897-2 2v15c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zm0 17H5V5h2v2h10V5h2v15z"></path></svg>',O='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" class="clipboard-svg"><path d="m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"></path></svg>';function F(i,e){e.nextElementSibling&&e.nextElementSibling.remove();const r=new DocumentFragment,o=document.createElement("section");o.classList.add("fresh-baked");const t=document.createElement("h2");t.innerText="Here, this is your new color! ðŸ˜Š";const n=document.createElement("div");n.classList.add("fresh-baked__block-label");const a=document.createElement("div");a.classList.add("fresh-baked__color-preview"),a.style.backgroundColor=i;const l=document.createElement("p");l.classList.add("fresh-baked__output-element"),l.innerText=i;const h=document.createElement("button");h.innerHTML=T,h.classList.add("fresh-baked__clipboard-button"),h.dataset.tooltip="Saved to your clipboard!",N(h,i),n.append(a),n.append(l),n.append(h),o.append(t),o.append(n),r.appendChild(o),e.after(r)}function N(i,e){i.onclick=()=>{navigator.clipboard.writeText(e),i.innerHTML=O;const r=2500;i.style.setProperty("--animation-duration",`${r}ms`),i.style.setProperty("--animation-name","fade-in-out"),setTimeout(()=>{i.style.removeProperty("--animation-duration"),i.style.removeProperty("--animation-name")},r)}}class P{constructor(e,r){s(this,"_controlTag");s(this,"_radioInputs");s(this,"_currentFormat");s(this,"_colorForm");s(this,"_colorInputs");s(this,"globalError");s(this,"_checkElement",e=>{let r=0,o=!1;return e.value?(o=!e.checkValidity(),this._toggleError(e,o),e.type==="text"&&(r=e.value.length),[o,r]):[o,r]});s(this,"_toggleError",(e,r)=>{e.classList.toggle("form__input--error",r)});this.formatControllerName=e,this.colorFormTag=r,this.globalError=!1,this._controlTag=document.querySelector(this.formatControllerName),this._radioInputs=this._controlTag.querySelectorAll("input.color-format"),this._colorForm=document.querySelector(this.colorFormTag),this._colorForm.noValidate=!0,this._currentFormat=this._changeFormat("rgb"),this._radioBinder(),this._bindColorEntries(this._colorForm),this._formBinder()}_newFormat(e){switch(e){case"rgb":return new w;case"hex":return new E;case"hsl":return new C;default:throw new Error("The passed value is neither rgb, hex nor hsl.")}}_radioBinder(){this._radioInputs.forEach(e=>{e.addEventListener("change",()=>{e.checked&&(this._currentFormat=this._changeFormat(e.id))})})}_changeFormat(e){const r=this._newFormat(e);return L(this._colorForm,r).then(o=>{this._bindColorEntries(o)}).catch(o=>{console.error(o)}),r}_bindColorEntries(e){this._colorInputs=e.querySelectorAll("input"),this._colorInputs.forEach(r=>{r.addEventListener("blur",o=>{o.preventDefault(),this._checkElement(r)})})}_formBinder(){this._colorForm.addEventListener("submit",e=>{e.preventDefault(),this.globalError=!1;let r=0,o=-1;for(let t=0;t<this._colorInputs.length;t++){const n=this._colorInputs[t],[a,l]=this._checkElement(n);if(a&&(this.globalError=!0),l){if(t===0){r=l;continue}r!==l&&(this.globalError=!0,o=t)}}if(this.globalError){this._toggleError(this._colorInputs[o],this.globalError);return}this._createRandomColor().then(t=>{F(t,this._colorForm)}).catch(t=>{throw new Error(t)})})}_createRandomColor(){return new Promise((e,r)=>{const o=[];this._colorInputs.forEach(a=>{o.push(a.value)});const t=this._currentFormat.createColor(o.some(a=>a!=="")?o:new Array(3));t&&e(t),r("Something went wrong")})}}window.addEventListener("DOMContentLoaded",()=>{new P(".format-picker",".form")});
