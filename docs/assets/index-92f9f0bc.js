var w=Object.defineProperty;var C=(r,e,t)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var a=(r,e,t)=>(C(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();function _(r,e){return Math.floor(Math.random()*(e-r+1)+r)}class k{constructor(){a(this,"name");a(this,"red");a(this,"green");a(this,"blue");a(this,"formatName");a(this,"sectionPhrases");a(this,"_colorOrder");this.name="rgb",this.formatName="rgb_input",this.sectionPhrases={name:this.name.toUpperCase(),inputs:["Red","Green","Blue"],inputType:"number",placeholder:["A value from 0 to 255","A value from 0 to 255","A value from 0 to 255"]},this.red=0,this.green=0,this.blue=0,this._colorOrder=[this.red,this.green,this.blue]}createColor(e=[]){for(let n=0;n<e.length;n++){const i=e[n];typeof i=="string"&&i.length>0?this._colorOrder[n]=Number(i):this._colorOrder[n]=_(0,255)}const[t,o,s]=this._colorOrder;return`rgb(${t}, ${o}, ${s})`}}function T(r){let e=0;for(let t=0;t<r.length;t++){const o=r[t];e<o.value.length&&(e=o.value.length)}return e}function N(r){let e=0;for(let t=0;t<r.length;t++){const o=r[t];e<o.length&&(e=o.length)}return e}class S{constructor(){a(this,"name");a(this,"red");a(this,"green");a(this,"blue");a(this,"formatName");a(this,"sectionPhrases");a(this,"_hexCharTable");a(this,"_hexColor");this.name="hex",this.formatName="hex_input",this.sectionPhrases={name:this.name.toUpperCase(),inputs:["Red","Green","Blue"],inputType:"text",placeholder:["A value from 0 to ff","A value from 0 to ff","A value from 0 to ff"]},this.red="",this.green="",this.blue="",this._hexCharTable="0123456789ABCDEF",this._hexColor=[this.red,this.green,this.blue]}selectHexNumber(){return this._hexCharTable[_(0,15)]}createColor(e){const t=N(e)===1;for(let o=0;o<this._hexColor.length;o++){if(typeof e[o]=="string"&&e[o].length>0){this._hexColor[o]=e[o].toUpperCase();continue}t?this._hexColor[o]=this.selectHexNumber():this._hexColor[o]=this.selectHexNumber()+this.selectHexNumber()}return"#"+this._hexColor.join("")}}class L{constructor(){a(this,"name");a(this,"hue");a(this,"saturation");a(this,"lightness");a(this,"formatName");a(this,"sectionPhrases");a(this,"_colorOrder");this.name="hsl",this.formatName="hsl_input",this.sectionPhrases={name:this.name.toUpperCase(),inputs:["Hue","Saturation","Lightness"],inputType:"number",placeholder:["A value from 0 to 360","A value from 0 to 100","A value from 0 to 100"]},this.hue=0,this.saturation="",this.lightness="",this._colorOrder=[this.hue,this.saturation,this.lightness]}createColor(e){for(let n=0;n<e.length;n++){const i=e[n];typeof i=="string"&&i.length>0?this._colorOrder[n]=Number(i):n===0?this._colorOrder[n]=_(0,360):this._colorOrder[n]=_(0,100)}const[t,o,s]=this._colorOrder;return`hsl(${t}, ${o}%, ${s}%)`}}function O(r,e){const{formatName:t,sectionPhrases:o}=e;return new Promise((s,n)=>{if(r.id===t){s(r);return}r.id=t;const i=r.querySelector("fieldset");if(!i)throw new Error("fieldset not found");const u=new DocumentFragment,{name:c,inputs:l,inputType:m,placeholder:b}=o,g=document.createElement("h3");g.innerText=c,u.append(g);for(let h=0;h<l.length;h++){l[h];const f=document.createElement("label"),y=document.createElement("p");y.innerText=l[h];const d=document.createElement("input");d.id=l[h].toLowerCase(),d.classList.add("form__input"),d.placeholder=b[h],d.type=m;const p=document.createElement("p");p.style.display="none",m==="text"?d.pattern=/^([0-9a-fA-F]{1}|[0-9a-fA-F]{2})$/.source:m==="number"?(d.min="0",c==="RGB"&&(d.max="255"),c==="HSL"&&(h===0?d.max="360":d.max="100")):n("Unknown color format"),f.append(y),f.append(d),c==="HSL"&&(d.style.width="calc(100% - 1.8rem)",h===0&&(p.style.display="inline-block",p.innerText="deg"),h>0&&(p.style.display="inline-block",p.innerText="%")),f.append(p),u.append(f)}i.innerHTML="",i.style.opacity="0",i.style.transform="translateX(100%)",i.append(u),setTimeout(()=>{i.style.opacity="1",i.style.transform="translateX(0%)",s(r)},1e3)})}function F(r){const e=H("colors");return e.unshift(r),e.length>10&&e.pop(),P(e)}function H(r){let e=[];const o=decodeURIComponent(document.cookie).split("="),s=1;if(o.includes(r)){const n=o[s];e=JSON.parse(n)}return e}function P(r){const e=new Date(Date.now()+6048e5).toUTCString(),o=`colors=${JSON.stringify(r)}; expires=${e}; path=/`;return document.cookie=o,r}const v='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" class="clipboard-svg"><path d="M19 3h-2.25a1 1 0 0 0-1-1h-7.5a1 1 0 0 0-1 1H5c-1.103 0-2 .897-2 2v15c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2zm0 17H5V5h2v2h10V5h2v15z"></path></svg>',A='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" class="clipboard-svg"><path d="m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"></path></svg>';function x(r){const e=document.createElement("div");e.className="fresh-baked__history-container";const t=document.createElement("h3");t.className="fresh-baked__history-h3",t.innerText="Colors History";const o=document.createElement("table");o.className="fresh-baked__history-table";const s=document.createElement("tr");s.className="fresh-baked__history-table-row--header";for(let n=-2;n<r.length;n++){if(n<0){const l=document.createElement("th");l.className="fresh-baked__history-table-header",l.innerText=n===-2?"Preview":"Format",s.append(l);continue}n||o.append(s);const i=document.createElement("tr");i.className="fresh-baked__history-table-row";const u=document.createElement("div");u.className="fresh-baked__history-color-preview",u.style.backgroundColor=r[n];const c=document.createElement("p");c.className="fresh-baked__history-color-text",c.innerText=r[n],i.append(u),i.append(c),o.append(i)}return e.append(t),e.append(o),e}function D(r,e){const t=F(r);if(e.nextElementSibling){const m=e.nextElementSibling,b=m.querySelector(".fresh-baked__output-element"),g=m.querySelector(".fresh-baked__color-preview"),h=m.querySelector(".fresh-baked__clipboard-button"),f=m.querySelector(".fresh-baked__history-container");g.style.backgroundColor=r,b.innerText=r,h.innerHTML=v,E(h,r),t.length>1&&(f&&m.removeChild(f),m.append(x(t)));return}const o=new DocumentFragment,s=document.createElement("section");s.classList.add("fresh-baked");const n=document.createElement("h2");n.innerText="Here, this is your new color! ðŸ˜Š";const i=document.createElement("div");i.classList.add("fresh-baked__block-label");const u=document.createElement("div");u.classList.add("fresh-baked__color-preview"),u.style.backgroundColor=r;const c=document.createElement("p");c.classList.add("fresh-baked__output-element"),c.innerText=r;const l=document.createElement("button");l.innerHTML=v,l.classList.add("fresh-baked__clipboard-button"),l.dataset.tooltip="Saved to your clipboard!",E(l,r),i.append(u),i.append(c),i.append(l),s.append(n),s.append(i),t.length>1&&s.append(x(t)),o.append(s),e.after(o)}function E(r,e){r.onclick=()=>{navigator.clipboard.writeText(e),r.innerHTML=A;const t=2500;r.style.setProperty("--animation-duration",`${t}ms`),r.style.setProperty("--animation-name","fade-in-out"),setTimeout(()=>{r.style.removeProperty("--animation-duration"),r.style.removeProperty("--animation-name")},t)}}class I{constructor(e,t){a(this,"_controlTag");a(this,"_radioInputs");a(this,"_currentFormat");a(this,"_colorForm");a(this,"_colorInputs");a(this,"globalError");a(this,"_checkElement",e=>{let t=!1;return t=!e.checkValidity(),this._toggleError(e,t),t});a(this,"_toggleError",(e,t)=>{e==null||e.classList.toggle("form__input--error",t)});this.formatControllerName=e,this.colorFormTag=t,this.globalError=!1,this._controlTag=document.querySelector(this.formatControllerName),this._radioInputs=this._controlTag.querySelectorAll("input.color-format"),this._colorForm=document.querySelector(this.colorFormTag),this._colorForm.noValidate=!0,this._currentFormat=this._changeFormat("rgb"),this._radioBinder(),this._bindColorEntries(this._colorForm),this._formBinder()}_newFormat(e){switch(e){case"rgb":return new k;case"hex":return new S;case"hsl":return new L;default:throw new Error("The passed value is neither rgb, hex nor hsl.")}}_radioBinder(){this._radioInputs.forEach(e=>{e.onchange=()=>{e.checked&&(this._currentFormat=this._changeFormat(e.id))}})}_changeFormat(e){const t=this._newFormat(e);return O(this._colorForm,t).then(o=>{this._bindColorEntries(o)}).catch(o=>{console.error(o)}),t}_bindColorEntries(e){this._colorInputs=e.querySelectorAll("input"),this._colorInputs.forEach(t=>{t.onblur=o=>{o.preventDefault(),this._checkElement(t)}})}_formBinder(){this._colorForm.addEventListener("submit",e=>{e.preventDefault(),this.globalError=!1;let t=-1,o=0;this._colorForm.id==="hex_input"&&(o=T(this._colorInputs));for(let s=0;s<this._colorInputs.length;s++){const n=this._colorInputs[s],i=this._checkElement(n);this._colorForm.id==="hex_input"&&o&&n.value.length!==o&&n.value.length!==0&&(this.globalError=!0,t=s),i&&(this.globalError=!0)}if(this.globalError){this._colorForm.id==="hex_input"&&this._toggleError(this._colorInputs[t],this.globalError);return}this._createRandomColor().then(s=>{D(s,this._colorForm)})})}_createRandomColor(){return new Promise((e,t)=>{const o=[];this._colorInputs.forEach(i=>{o.push(i.value)});const s=this._currentFormat.createColor(o.some(i=>i!=="")?o:new Array(3).fill(""));s&&e(s),t("Something went wrong")})}}window.addEventListener("DOMContentLoaded",()=>{new I(".format-picker",".form")});
